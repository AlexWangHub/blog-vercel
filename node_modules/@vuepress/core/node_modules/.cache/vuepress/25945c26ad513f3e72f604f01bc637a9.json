{"remainingRequest":"/Users/blibli/Desktop/vuepress-starter/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/blibli/Desktop/vuepress-starter/docs/.vuepress/components/update.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/blibli/Desktop/vuepress-starter/docs/.vuepress/components/update.vue","mtime":1589625246000},{"path":"/Users/blibli/Desktop/vuepress-starter/node_modules/cache-loader/dist/cjs.js","mtime":1656864014424},{"path":"/Users/blibli/Desktop/vuepress-starter/node_modules/babel-loader/lib/index.js","mtime":1656864014423},{"path":"/Users/blibli/Desktop/vuepress-starter/node_modules/cache-loader/dist/cjs.js","mtime":1656864014424},{"path":"/Users/blibli/Desktop/vuepress-starter/node_modules/vue-loader/lib/index.js","mtime":1656864014654}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgZXhwb3J0IGRlZmF1bHQgew0KICAgICAgICBuYW1lOiAndXBkYXRlJywNCiAgICAgICAgZGF0YSgpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCiAgICAgICAgbW91bnRlZCgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLiR0aGVtZUNvbmZpZy51cGRhdGUgJiYgdGhpcy4kdGhlbWVDb25maWcudXBkYXRlLnRpbWUpIHsNCiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVUaW1lID0gdGhpcy4kdGhlbWVDb25maWcudXBkYXRlLnRpbWUNCiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5sb2NhbFN0b3JhZ2UpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8g6K6+572uY29va2llDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RUaW1lID0gdGhpcy5nZXRDb29raWUoJ3VwZGF0ZV90aW1lJykNCiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RUaW1lID09IHVwZGF0ZVRpbWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENvb2tpZSgndXBkYXRlX3RpbWUnLCB1cGRhdGVUaW1lKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgLy8g6K6+572ubG9jYWxTdG9yYWdlDQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCforr7nva5sb2NhbFN0b3JhZ2UnKQ0KICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0VGltZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXBkYXRlX3RpbWUnKQ0KICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFRpbWUgPT0gdXBkYXRlVGltZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXBkYXRlX3RpbWUnLCB1cGRhdGVUaW1lKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2UNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSkgcmV0dXJuDQogICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlRGlhbG9nKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCg0KICAgICAgICBjb21wdXRlZDogew0KICAgICAgICAgICAgdGl0bGUoKSB7DQogICAgICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICAgICAgICB0aGlzLiR0aGVtZUNvbmZpZy51cGRhdGUgJiYNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGhlbWVDb25maWcudXBkYXRlLnRpdGxlDQogICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiR0aGVtZUNvbmZpZy51cGRhdGUudGl0bGUNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB1cGRhdGVMaXN0KCkgew0KICAgICAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGhlbWVDb25maWcudXBkYXRlICYmDQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHRoZW1lQ29uZmlnLnVwZGF0ZS51cGRhdGVMaXN0DQogICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiR0aGVtZUNvbmZpZy51cGRhdGUudXBkYXRlTGlzdA0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBbXQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgIH0sDQoNCiAgICAgICAgbWV0aG9kczogew0KICAgICAgICAgICAgc2V0Q29va2llKG5hbWUsIHZhbHVlLCBzZWNvbmRzKSB7DQogICAgICAgICAgICAgICAgc2Vjb25kcyA9IHNlY29uZHMgfHwgMCAvL3NlY29uZHPmnInlgLzlsLHnm7TmjqXotYvlgLzvvIzmsqHmnInkuLowDQogICAgICAgICAgICAgICAgdmFyIGV4cGlyZXMgPSAnJw0KICAgICAgICAgICAgICAgIGlmIChzZWNvbmRzICE9IDApIHsNCiAgICAgICAgICAgICAgICAgICAgLy/orr7nva5jb29raWXnlJ/lrZjml7bpl7QNCiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpDQogICAgICAgICAgICAgICAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIHNlY29uZHMgKiAxMDAwKQ0KICAgICAgICAgICAgICAgICAgICBleHBpcmVzID0gJzsgZXhwaXJlcz0nICsgZGF0ZS50b0dNVFN0cmluZygpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9DQogICAgICAgICAgICAgICAgICAgIG5hbWUgKyAnPScgKyBlc2NhcGUodmFsdWUpICsgZXhwaXJlcyArICc7IHBhdGg9LycgLy/ovaznoIHlubbotYvlgLwNCiAgICAgICAgICAgIH0sDQoNCiAgICAgICAgICAgIGdldENvb2tpZShjX25hbWUpIHsNCiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuY29va2llLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNfc3RhcnQgPSBkb2N1bWVudC5jb29raWUuaW5kZXhPZihjX25hbWUgKyAnPScpDQogICAgICAgICAgICAgICAgICAgIGlmIChjX3N0YXJ0ICE9IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjX3N0YXJ0ID0gY19zdGFydCArIGNfbmFtZS5sZW5ndGggKyAxDQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY19lbmQgPSBkb2N1bWVudC5jb29raWUuaW5kZXhPZignOycsIGNfc3RhcnQpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY19lbmQgPT0gLTEpIGNfZW5kID0gZG9jdW1lbnQuY29va2llLmxlbmd0aA0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZXNjYXBlKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZS5zdWJzdHJpbmcoY19zdGFydCwgY19lbmQpDQogICAgICAgICAgICAgICAgICAgICAgICApLnJlcGxhY2UoL1wiL2csICcnKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBudWxsDQogICAgICAgICAgICB9LA0KDQogICAgICAgICAgICBjbG9zZURpYWxvZyhlKSB7DQogICAgICAgICAgICAgICAgY29uc3QgZGlhbG9nID0gdGhpcy4kcmVmcy5kaWFsb2dCb3gNCiAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gdGhpcy4kcmVmcy5saW5rDQogICAgICAgICAgICAgICAgLy8g54K55Ye7IOiSmeWxguS7peWPiuaWh+eroOmTvuaOpeWFs+mXrQ0KICAgICAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgICAgICAgKGRpYWxvZyAmJiAhZGlhbG9nLmNvbnRhaW5zKGUudGFyZ2V0KSkgfHwNCiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NOYW1lID09ICdhcnRpY2xlX2xpbmsnDQogICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBldmVudA0KICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50KCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcmVtb3ZlRXZlbnQoKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlRGlhbG9nKQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICB9DQo="},{"version":3,"sources":["update.vue"],"names":[],"mappings":";AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"update.vue","sourceRoot":"docs/.vuepress/components","sourcesContent":["<template>\r\n    <div class=\"update_dialog\" v-if=\"title && updateList.length && visible\">\r\n        <div class=\"update_container\" ref=\"dialogBox\">\r\n            <div class=\"title\">{{ title }}</div>\r\n            <div class=\"route\" v-for=\"(item, index) in updateList\" :key=\"index\">\r\n                <div class=\"left_line\">\r\n                    <span class=\"line\"></span>\r\n                </div>\r\n                <div class=\"right_content\">\r\n                    <h4 class=\"time\">{{ item.time }}</h4>\r\n                    <router-link\r\n                        ref=\"link\"\r\n                        :to=\"link.url\"\r\n                        class=\"article_link\"\r\n                        v-for=\"(link, idx) in item.content\"\r\n                        :key=\"idx\"\r\n                        >{{ link.title }}</router-link\r\n                    >\r\n                </div>\r\n            </div>\r\n            <div class=\"footer_bottom\">\r\n               如果您有任何建议, 欢迎加好友私聊\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'update',\r\n        data() {\r\n            return {\r\n                visible: false,\r\n            }\r\n        },\r\n\r\n        mounted() {\r\n            if (this.$themeConfig.update && this.$themeConfig.update.time) {\r\n                const updateTime = this.$themeConfig.update.time\r\n                if (!window.localStorage) {\r\n                    // 设置cookie\r\n                    const lastTime = this.getCookie('update_time')\r\n                    if (lastTime == updateTime) {\r\n                        this.visible = false\r\n                    } else {\r\n                        this.setCookie('update_time', updateTime)\r\n                        this.visible = true\r\n                    }\r\n                } else {\r\n                    // 设置localStorage\r\n                    console.log('设置localStorage')\r\n                    const lastTime = window.localStorage.getItem('update_time')\r\n                    if (lastTime == updateTime) {\r\n                        this.visible = false\r\n                    } else {\r\n                        this.visible = true\r\n                        window.localStorage.setItem('update_time', updateTime)\r\n                    }\r\n                }\r\n            }else{\r\n                this.visible = false\r\n            }\r\n            this.$nextTick(() => {\r\n                if (!this.visible) return\r\n                document.addEventListener('click', this.closeDialog)\r\n            })\r\n        },\r\n\r\n        computed: {\r\n            title() {\r\n                if (\r\n                    this.$themeConfig.update &&\r\n                    this.$themeConfig.update.title\r\n                ) {\r\n                    return this.$themeConfig.update.title\r\n                } else {\r\n                    return null\r\n                }\r\n            },\r\n            updateList() {\r\n                if (\r\n                    this.$themeConfig.update &&\r\n                    this.$themeConfig.update.updateList\r\n                ) {\r\n                    return this.$themeConfig.update.updateList\r\n                } else {\r\n                    return []\r\n                }\r\n            },\r\n        },\r\n\r\n        methods: {\r\n            setCookie(name, value, seconds) {\r\n                seconds = seconds || 0 //seconds有值就直接赋值，没有为0\r\n                var expires = ''\r\n                if (seconds != 0) {\r\n                    //设置cookie生存时间\r\n                    var date = new Date()\r\n                    date.setTime(date.getTime() + seconds * 1000)\r\n                    expires = '; expires=' + date.toGMTString()\r\n                }\r\n                document.cookie =\r\n                    name + '=' + escape(value) + expires + '; path=/' //转码并赋值\r\n            },\r\n\r\n            getCookie(c_name) {\r\n                if (document.cookie.length > 0) {\r\n                    var c_start = document.cookie.indexOf(c_name + '=')\r\n                    if (c_start != -1) {\r\n                        c_start = c_start + c_name.length + 1\r\n                        var c_end = document.cookie.indexOf(';', c_start)\r\n                        if (c_end == -1) c_end = document.cookie.length\r\n                        return unescape(\r\n                            document.cookie.substring(c_start, c_end)\r\n                        ).replace(/\\\"/g, '')\r\n                    }\r\n                }\r\n                return null\r\n            },\r\n\r\n            closeDialog(e) {\r\n                const dialog = this.$refs.dialogBox\r\n                const link = this.$refs.link\r\n                // 点击 蒙层以及文章链接关闭\r\n                if (\r\n                    (dialog && !dialog.contains(e.target)) ||\r\n                    e.target.className == 'article_link'\r\n                ) {\r\n                    this.visible = false\r\n                    // remove event\r\n                    this.removeEvent()\r\n                }\r\n            },\r\n            removeEvent() {\r\n                document.removeEventListener('click', this.closeDialog)\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .update_dialog {\r\n        position: fixed;\r\n        width: 100%;\r\n        height: 100%;\r\n        left: 0;\r\n        top: 0;\r\n        z-index: 99;\r\n        background-color: rgba(0, 0, 0, 0.5);\r\n    }\r\n    .update_container {\r\n        width: 80%;\r\n        max-width: 500px;\r\n        background-color: #fff;\r\n        padding: 20px;\r\n        box-sizing: border-box;\r\n        position: absolute;\r\n        left: 50%;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%);\r\n        border-radius: 8px;\r\n    }\r\n    .update_container .title {\r\n        font-size: 16px;\r\n        border-bottom: 1px solid #eee;\r\n        line-height: 40px;\r\n        font-weight: bold;\r\n        margin-bottom: 20px;\r\n    }\r\n    .update_container .route {\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: nowrap;\r\n        flex-flow: row;\r\n    }\r\n    .right_content {\r\n        flex: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n    .right_content .time {\r\n        margin: 0;\r\n        margin-top: -4px;\r\n    }\r\n    .right_content .article_link {\r\n        font-size: 14px;\r\n        margin-top: 10px;\r\n    }\r\n    .right_content .article_link:last-child {\r\n        margin-bottom: 15px;\r\n    }\r\n    .route .left_line {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        margin-right: 16px;\r\n    }\r\n    .route .left_line::before {\r\n        content: ' ';\r\n        display: inline-block;\r\n        width: 12px;\r\n        height: 12px;\r\n        border-radius: 50%;\r\n        border: 2px solid #42b983;\r\n        background-color: #fff;\r\n        box-sizing: border-box;\r\n        flex-shrink: 0;\r\n    }\r\n    .route .left_line .line {\r\n        display: inline-block;\r\n        height: 100%;\r\n        width: 2px;\r\n        background-color: #eee;\r\n    }\r\n    .footer_bottom{\r\n        font-size: 12px;\r\n        color: #666;\r\n        text-align: center;\r\n        padding: 10px ;\r\n    }\r\n</style>\r\n"]}]}