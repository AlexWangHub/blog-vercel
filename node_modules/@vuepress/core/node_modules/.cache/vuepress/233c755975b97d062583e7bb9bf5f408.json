{"remainingRequest":"/Users/blibli/Desktop/vuepress-starter_1/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/blibli/Desktop/vuepress-starter_1/node_modules/@vuepress/plugin-pwa/lib/SWUpdateEvent.js","dependencies":[{"path":"/Users/blibli/Desktop/vuepress-starter_1/node_modules/@vuepress/plugin-pwa/lib/SWUpdateEvent.js","mtime":1656864011047},{"path":"/Users/blibli/Desktop/vuepress-starter_1/node_modules/cache-loader/dist/cjs.js","mtime":1656864014424},{"path":"/Users/blibli/Desktop/vuepress-starter_1/node_modules/babel-loader/lib/index.js","mtime":1656864014423}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgY2xhc3MgU1dVcGRhdGVFdmVudCB7CiAgY29uc3RydWN0b3IocmVnaXN0cmF0aW9uKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JlZ2lzdHJhdGlvbicsIHsKICAgICAgdmFsdWU6IHJlZ2lzdHJhdGlvbiwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfQogIC8qKgogICAqIENoZWNrIGlmIHRoZSBuZXcgc2VydmljZSB3b3JrZXIgZXhpc3RzIG9yIG5vdC4KICAgKi8KCgogIHVwZGF0ZSgpIHsKICAgIHJldHVybiB0aGlzLnJlZ2lzdHJhdGlvbi51cGRhdGUoKTsKICB9CiAgLyoqCiAgICogQWN0aXZhdGUgbmV3IHNlcnZpY2Ugd29ya2VyIHRvIHdvcmsgJ2xvY2F0aW9uLnJlbG9hZCgpJyB3aXRoIG5ldyBkYXRhLgogICAqLwoKCiAgc2tpcFdhaXRpbmcoKSB7CiAgICBjb25zdCB3b3JrZXIgPSB0aGlzLnJlZ2lzdHJhdGlvbi53YWl0aW5nOwoKICAgIGlmICghd29ya2VyKSB7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsKICAgIH0KCiAgICBjb25zb2xlLmxvZygnW3Z1ZXByZXNzOnN3XSBEb2luZyB3b3JrZXIuc2tpcFdhaXRpbmcoKS4nKTsKICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgIGNvbnN0IGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTsKCiAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZXZlbnQgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdbdnVlcHJlc3M6c3ddIERvbmUgd29ya2VyLnNraXBXYWl0aW5nKCkuJyk7CgogICAgICAgIGlmIChldmVudC5kYXRhLmVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXZlbnQuZGF0YS5lcnJvcik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlc29sdmUoZXZlbnQuZGF0YSk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHsKICAgICAgICB0eXBlOiAnc2tpcC13YWl0aW5nJwogICAgICB9LCBbY2hhbm5lbC5wb3J0Ml0pOwogICAgfSk7CiAgfQoKfQ=="},{"version":3,"names":["SWUpdateEvent","constructor","registration","Object","defineProperty","value","configurable","writable","update","skipWaiting","worker","waiting","Promise","resolve","console","log","reject","channel","MessageChannel","port1","onmessage","event","data","error","postMessage","type","port2"],"sources":["/Users/blibli/Desktop/vuepress-starter_1/node_modules/@vuepress/plugin-pwa/lib/SWUpdateEvent.js"],"sourcesContent":["export default class SWUpdateEvent {\n  constructor (registration) {\n    Object.defineProperty(this, 'registration', {\n      value: registration,\n      configurable: true,\n      writable: true\n    })\n  }\n\n  /**\n   * Check if the new service worker exists or not.\n   */\n  update () {\n    return this.registration.update()\n  }\n\n  /**\n   * Activate new service worker to work 'location.reload()' with new data.\n   */\n  skipWaiting () {\n    const worker = this.registration.waiting\n    if (!worker) {\n      return Promise.resolve()\n    }\n\n    console.log('[vuepress:sw] Doing worker.skipWaiting().')\n    return new Promise((resolve, reject) => {\n      const channel = new MessageChannel()\n\n      channel.port1.onmessage = (event) => {\n        console.log('[vuepress:sw] Done worker.skipWaiting().')\n        if (event.data.error) {\n          reject(event.data.error)\n        } else {\n          resolve(event.data)\n        }\n      }\n\n      worker.postMessage({ type: 'skip-waiting' }, [channel.port2])\n    })\n  }\n}\n\n"],"mappings":"AAAA,eAAe,MAAMA,aAAN,CAAoB;EACjCC,WAAW,CAAEC,YAAF,EAAgB;IACzBC,MAAM,CAACC,cAAP,CAAsB,IAAtB,EAA4B,cAA5B,EAA4C;MAC1CC,KAAK,EAAEH,YADmC;MAE1CI,YAAY,EAAE,IAF4B;MAG1CC,QAAQ,EAAE;IAHgC,CAA5C;EAKD;EAED;AACF;AACA;;;EACEC,MAAM,GAAI;IACR,OAAO,KAAKN,YAAL,CAAkBM,MAAlB,EAAP;EACD;EAED;AACF;AACA;;;EACEC,WAAW,GAAI;IACb,MAAMC,MAAM,GAAG,KAAKR,YAAL,CAAkBS,OAAjC;;IACA,IAAI,CAACD,MAAL,EAAa;MACX,OAAOE,OAAO,CAACC,OAAR,EAAP;IACD;;IAEDC,OAAO,CAACC,GAAR,CAAY,2CAAZ;IACA,OAAO,IAAIH,OAAJ,CAAY,CAACC,OAAD,EAAUG,MAAV,KAAqB;MACtC,MAAMC,OAAO,GAAG,IAAIC,cAAJ,EAAhB;;MAEAD,OAAO,CAACE,KAAR,CAAcC,SAAd,GAA2BC,KAAD,IAAW;QACnCP,OAAO,CAACC,GAAR,CAAY,0CAAZ;;QACA,IAAIM,KAAK,CAACC,IAAN,CAAWC,KAAf,EAAsB;UACpBP,MAAM,CAACK,KAAK,CAACC,IAAN,CAAWC,KAAZ,CAAN;QACD,CAFD,MAEO;UACLV,OAAO,CAACQ,KAAK,CAACC,IAAP,CAAP;QACD;MACF,CAPD;;MASAZ,MAAM,CAACc,WAAP,CAAmB;QAAEC,IAAI,EAAE;MAAR,CAAnB,EAA6C,CAACR,OAAO,CAACS,KAAT,CAA7C;IACD,CAbM,CAAP;EAcD;;AAxCgC"}]}