{"remainingRequest":"/Users/blibli/Desktop/vuepress-starter-1/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/blibli/Desktop/vuepress-starter-1/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/blibli/Desktop/vuepress-starter-1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/blibli/Desktop/vuepress-starter-1/docs/.vuepress/components/comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/blibli/Desktop/vuepress-starter-1/docs/.vuepress/components/comment.vue","mtime":1583055818000},{"path":"/Users/blibli/Desktop/vuepress-starter-1/node_modules/cache-loader/dist/cjs.js","mtime":1656864014424},{"path":"/Users/blibli/Desktop/vuepress-starter-1/node_modules/babel-loader/lib/index.js","mtime":1656864014423},{"path":"/Users/blibli/Desktop/vuepress-starter-1/node_modules/cache-loader/dist/cjs.js","mtime":1656864014424},{"path":"/Users/blibli/Desktop/vuepress-starter-1/node_modules/vue-loader/lib/index.js","mtime":1656864014654}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gaW1wb3J0IFZhbGluZSBmcm9tICd2YWxpbmUnCmltcG9ydCB7IHZhbGluZUNvbW1lbnQgfSBmcm9tICcuLi9wcml2YXRlLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdjb21tZW50JywKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3c6IGZhbHNlLAogICAgICB2aXNpdElpZDogMCwKICAgICAgYXJ0aWNsZVRpdGxlOiAnJywKICAgICAgdGl0bGU6ICIiCiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBpbXBvcnQoJ3ZhbGluZScpLnRoZW4obW9kdWxlID0+IHsKICAgICAgd2luZG93LlZhbGluZSA9IG1vZHVsZS5kZWZhdWx0OwogICAgICB0aGlzLmZldGNoQ29tbWVudCgpOwogICAgfSk7CiAgfSwKCiAgbWV0aG9kczogewogICAgZmV0Y2hDb21tZW50KCkgewogICAgICAvLyDnm67lvZXpobXpnaLkuI3mmL7npLror4TorroKICAgICAgbGV0IHBhdGggPSBsb2NhdGlvbi5wYXRobmFtZTsKICAgICAgdGhpcy50aXRsZSA9IHBhdGg7IC8vIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2xlYW5jbG91ZC12aXNpdG9ycycpWzBdLmlkID0gcGF0aAoKICAgICAgdGhpcy52aXNpdElpZCA9IHBhdGg7CiAgICAgIHRoaXMuc2hvdyA9IC8uaHRtbCQvLnRlc3QodGhpcy4kcm91dGUucGF0aCk7CiAgICAgIHRoaXMuc2hvdyAmJiB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgbmV3IFZhbGluZSh7CiAgICAgICAgICBlbDogJyNjb21tZW50RWwnLAogICAgICAgICAgYXBwSWQ6IHZhbGluZUNvbW1lbnQuQXBwSUQsCiAgICAgICAgICBhcHBLZXk6IHZhbGluZUNvbW1lbnQuQXBwS2V5LAogICAgICAgICAgcGF0aDogdGhpcy52aXNpdElpZCwKICAgICAgICAgIGF2YXRhcjogJ3dhdmF0YXInLAogICAgICAgICAgbWV0YTogWyduaWNrJywgJ21haWwnXSwKICAgICAgICAgIHZpc2l0b3I6IHRydWUKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogZnVuY3Rpb24gKHJvdXRlLCBvbGRyb3V0ZSkgewogICAgICBpZiAocm91dGUucGF0aCA9PT0gb2xkcm91dGUucGF0aCkgcmV0dXJuOwogICAgICBjb25zb2xlLmxvZygncm91dGUgZ2VuZ3h4Jywgcm91dGUsIG9sZHJvdXRlKTsKICAgICAgdGhpcy5mZXRjaENvbW1lbnQoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":"AAaA;AACA;AAEA;EACAA,eADA;;EAEAC;IACA;MACAC,WADA;MAEAC,WAFA;MAGAC,gBAHA;MAIAC;IAJA;EAMA,CATA;;EAUAC;IACA;MACAC;MACA;IACA,CAHA;EAIA,CAfA;;EAgBAC;IACAC;MACA;MACA;MACA,kBAHA,CAIA;;MACA;MACA;MAEA,aACA;QACA;UACAC,gBADA;UAEAC,0BAFA;UAGAC,4BAHA;UAIAC,mBAJA;UAKAC,iBALA;UAMAC,sBANA;UAOAC;QAPA;MASA,CAVA,CADA;IAcA;;EAvBA,CAhBA;EAyCAC;IACAC;MACA;MACAC;MACA;IACA;EALA;AAzCA","names":["name","data","show","visitIid","articleTitle","title","mounted","window","methods","fetchComment","el","appId","appKey","path","avatar","meta","visitor","watch","$route","console"],"sourceRoot":"docs/.vuepress/components","sources":["comment.vue"],"sourcesContent":["<template>\r\n  <div class=\"comment-wrap\" v-if=\"show\">\r\n    <span class=\"leancloud_visitors visitor_container\" :id=\"visitIid\" :data-flag-title=\"title\">\r\n      <span class=\"post-meta-item-text\">阅读量：</span>\r\n      <i class=\"leancloud-visitors-count\" style=\"font-style:normal\"></i>\r\n    </span>\r\n    <div id=\"commentEl\" class=\"comment\">\r\n      <p>这是评论区别</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import Valine from 'valine'\r\nimport { valineComment } from '../private.js'\r\n\r\nexport default {\r\n  name: 'comment',\r\n  data() {\r\n    return {\r\n      show: false,\r\n      visitIid:0,\r\n      articleTitle:'',\r\n      title:\"\"\r\n    }\r\n  },\r\n  mounted() {   \r\n    import('valine').then(module => {\r\n      window.Valine = module.default\r\n      this.fetchComment()\r\n    })\r\n  },\r\n  methods: {\r\n    fetchComment() {\r\n      // 目录页面不显示评论\r\n      let path = location.pathname\r\n      this.title = path\r\n      // document.getElementsByClassName('leancloud-visitors')[0].id = path\r\n      this.visitIid = path;\r\n      this.show = /.html$/.test(this.$route.path)\r\n      \r\n      this.show &&\r\n        this.$nextTick(() => {\r\n          new Valine({\r\n            el: '#commentEl',\r\n            appId: valineComment.AppID,\r\n            appKey: valineComment.AppKey,\r\n            path: this.visitIid,\r\n            avatar: 'wavatar',\r\n            meta: ['nick', 'mail'],\r\n            visitor: true\r\n          })\r\n        })\r\n\r\n     \r\n    }\r\n  },\r\n  watch: {\r\n    $route: function(route, oldroute) {\r\n      if(route.path === oldroute.path) return\r\n      console.log('route gengxx', route, oldroute)\r\n      this.fetchComment()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.comment-wrap {\r\n  max-width: 800px;\r\n  padding-left: 20rem;\r\n}\r\n.visitor_container,\r\n.comment {\r\n  padding: 0 2.5rem 4rem;\r\n}\r\n@media (max-width: 959px) {\r\n  .comment-wrap {\r\n    padding-left: 16.4rem;\r\n  }\r\n}\r\n@media (max-width: 719px) {\r\n  .comment-wrap {\r\n    padding-left: 0;\r\n  }\r\n}\r\n@media (max-width: 959px) {\r\n  .comment {\r\n    padding: 0 2rem 2rem;\r\n  }\r\n}\r\n@media (max-width: 419px) {\r\n  .comment {\r\n    padding: 0 1.5rem 1.5rem;\r\n  }\r\n}\r\n</style>\r\n\r\n<style>\r\n.v .vlist .vcard .vhead .vsys {\r\n  display: none !important;\r\n}\r\n.v .veditor {\r\n  min-height: 3.75em !important;\r\n}\r\n#commentEl .info{\r\n  display: none;\r\n}\r\n</style>\r\n\r\n "]}]}