{"remainingRequest":"/Users/blibli/Desktop/vuepress-starter/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/blibli/Desktop/vuepress-starter/docs/.vuepress/components/update.vue?vue&type=style&index=0&id=d3d32c74&prod&scoped=true&lang=css&","dependencies":[{"path":"/Users/blibli/Desktop/vuepress-starter/docs/.vuepress/components/update.vue","mtime":1589625246000},{"path":"/Users/blibli/Desktop/vuepress-starter/node_modules/css-loader/dist/cjs.js","mtime":1656864014513},{"path":"/Users/blibli/Desktop/vuepress-starter/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1656864014654},{"path":"/Users/blibli/Desktop/vuepress-starter/node_modules/postcss-loader/src/index.js","mtime":1656864014620},{"path":"/Users/blibli/Desktop/vuepress-starter/node_modules/cache-loader/dist/cjs.js","mtime":1656864014424},{"path":"/Users/blibli/Desktop/vuepress-starter/node_modules/vue-loader/lib/index.js","mtime":1656864014654}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgLnVwZGF0ZV9kaWFsb2cgew0KICAgICAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICAgIGxlZnQ6IDA7DQogICAgICAgIHRvcDogMDsNCiAgICAgICAgei1pbmRleDogOTk7DQogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTsNCiAgICB9DQogICAgLnVwZGF0ZV9jb250YWluZXIgew0KICAgICAgICB3aWR0aDogODAlOw0KICAgICAgICBtYXgtd2lkdGg6IDUwMHB4Ow0KICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICAgICAgICBwYWRkaW5nOiAyMHB4Ow0KICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgIGxlZnQ6IDUwJTsNCiAgICAgICAgdG9wOiA1MCU7DQogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOw0KICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgfQ0KICAgIC51cGRhdGVfY29udGFpbmVyIC50aXRsZSB7DQogICAgICAgIGZvbnQtc2l6ZTogMTZweDsNCiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZWU7DQogICAgICAgIGxpbmUtaGVpZ2h0OiA0MHB4Ow0KICAgICAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsNCiAgICB9DQogICAgLnVwZGF0ZV9jb250YWluZXIgLnJvdXRlIHsNCiAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdzsNCiAgICAgICAgZmxleC13cmFwOiBub3dyYXA7DQogICAgICAgIGZsZXgtZmxvdzogcm93Ow0KICAgIH0NCiAgICAucmlnaHRfY29udGVudCB7DQogICAgICAgIGZsZXg6IDE7DQogICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgfQ0KICAgIC5yaWdodF9jb250ZW50IC50aW1lIHsNCiAgICAgICAgbWFyZ2luOiAwOw0KICAgICAgICBtYXJnaW4tdG9wOiAtNHB4Ow0KICAgIH0NCiAgICAucmlnaHRfY29udGVudCAuYXJ0aWNsZV9saW5rIHsNCiAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICBtYXJnaW4tdG9wOiAxMHB4Ow0KICAgIH0NCiAgICAucmlnaHRfY29udGVudCAuYXJ0aWNsZV9saW5rOmxhc3QtY2hpbGQgew0KICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4Ow0KICAgIH0NCiAgICAucm91dGUgLmxlZnRfbGluZSB7DQogICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgIG1hcmdpbi1yaWdodDogMTZweDsNCiAgICB9DQogICAgLnJvdXRlIC5sZWZ0X2xpbmU6OmJlZm9yZSB7DQogICAgICAgIGNvbnRlbnQ6ICcgJzsNCiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgICAgICB3aWR0aDogMTJweDsNCiAgICAgICAgaGVpZ2h0OiAxMnB4Ow0KICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7DQogICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICM0MmI5ODM7DQogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7DQogICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgICAgIGZsZXgtc2hyaW5rOiAwOw0KICAgIH0NCiAgICAucm91dGUgLmxlZnRfbGluZSAubGluZSB7DQogICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgICB3aWR0aDogMnB4Ow0KICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlOw0KICAgIH0NCiAgICAuZm9vdGVyX2JvdHRvbXsNCiAgICAgICAgZm9udC1zaXplOiAxMnB4Ow0KICAgICAgICBjb2xvcjogIzY2NjsNCiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICBwYWRkaW5nOiAxMHB4IDsNCiAgICB9DQo="},{"version":3,"sources":["update.vue"],"names":[],"mappings":";AA6IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"update.vue","sourceRoot":"docs/.vuepress/components","sourcesContent":["<template>\r\n    <div class=\"update_dialog\" v-if=\"title && updateList.length && visible\">\r\n        <div class=\"update_container\" ref=\"dialogBox\">\r\n            <div class=\"title\">{{ title }}</div>\r\n            <div class=\"route\" v-for=\"(item, index) in updateList\" :key=\"index\">\r\n                <div class=\"left_line\">\r\n                    <span class=\"line\"></span>\r\n                </div>\r\n                <div class=\"right_content\">\r\n                    <h4 class=\"time\">{{ item.time }}</h4>\r\n                    <router-link\r\n                        ref=\"link\"\r\n                        :to=\"link.url\"\r\n                        class=\"article_link\"\r\n                        v-for=\"(link, idx) in item.content\"\r\n                        :key=\"idx\"\r\n                        >{{ link.title }}</router-link\r\n                    >\r\n                </div>\r\n            </div>\r\n            <div class=\"footer_bottom\">\r\n               如果您有任何建议, 欢迎加好友私聊\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'update',\r\n        data() {\r\n            return {\r\n                visible: false,\r\n            }\r\n        },\r\n\r\n        mounted() {\r\n            if (this.$themeConfig.update && this.$themeConfig.update.time) {\r\n                const updateTime = this.$themeConfig.update.time\r\n                if (!window.localStorage) {\r\n                    // 设置cookie\r\n                    const lastTime = this.getCookie('update_time')\r\n                    if (lastTime == updateTime) {\r\n                        this.visible = false\r\n                    } else {\r\n                        this.setCookie('update_time', updateTime)\r\n                        this.visible = true\r\n                    }\r\n                } else {\r\n                    // 设置localStorage\r\n                    console.log('设置localStorage')\r\n                    const lastTime = window.localStorage.getItem('update_time')\r\n                    if (lastTime == updateTime) {\r\n                        this.visible = false\r\n                    } else {\r\n                        this.visible = true\r\n                        window.localStorage.setItem('update_time', updateTime)\r\n                    }\r\n                }\r\n            }else{\r\n                this.visible = false\r\n            }\r\n            this.$nextTick(() => {\r\n                if (!this.visible) return\r\n                document.addEventListener('click', this.closeDialog)\r\n            })\r\n        },\r\n\r\n        computed: {\r\n            title() {\r\n                if (\r\n                    this.$themeConfig.update &&\r\n                    this.$themeConfig.update.title\r\n                ) {\r\n                    return this.$themeConfig.update.title\r\n                } else {\r\n                    return null\r\n                }\r\n            },\r\n            updateList() {\r\n                if (\r\n                    this.$themeConfig.update &&\r\n                    this.$themeConfig.update.updateList\r\n                ) {\r\n                    return this.$themeConfig.update.updateList\r\n                } else {\r\n                    return []\r\n                }\r\n            },\r\n        },\r\n\r\n        methods: {\r\n            setCookie(name, value, seconds) {\r\n                seconds = seconds || 0 //seconds有值就直接赋值，没有为0\r\n                var expires = ''\r\n                if (seconds != 0) {\r\n                    //设置cookie生存时间\r\n                    var date = new Date()\r\n                    date.setTime(date.getTime() + seconds * 1000)\r\n                    expires = '; expires=' + date.toGMTString()\r\n                }\r\n                document.cookie =\r\n                    name + '=' + escape(value) + expires + '; path=/' //转码并赋值\r\n            },\r\n\r\n            getCookie(c_name) {\r\n                if (document.cookie.length > 0) {\r\n                    var c_start = document.cookie.indexOf(c_name + '=')\r\n                    if (c_start != -1) {\r\n                        c_start = c_start + c_name.length + 1\r\n                        var c_end = document.cookie.indexOf(';', c_start)\r\n                        if (c_end == -1) c_end = document.cookie.length\r\n                        return unescape(\r\n                            document.cookie.substring(c_start, c_end)\r\n                        ).replace(/\\\"/g, '')\r\n                    }\r\n                }\r\n                return null\r\n            },\r\n\r\n            closeDialog(e) {\r\n                const dialog = this.$refs.dialogBox\r\n                const link = this.$refs.link\r\n                // 点击 蒙层以及文章链接关闭\r\n                if (\r\n                    (dialog && !dialog.contains(e.target)) ||\r\n                    e.target.className == 'article_link'\r\n                ) {\r\n                    this.visible = false\r\n                    // remove event\r\n                    this.removeEvent()\r\n                }\r\n            },\r\n            removeEvent() {\r\n                document.removeEventListener('click', this.closeDialog)\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .update_dialog {\r\n        position: fixed;\r\n        width: 100%;\r\n        height: 100%;\r\n        left: 0;\r\n        top: 0;\r\n        z-index: 99;\r\n        background-color: rgba(0, 0, 0, 0.5);\r\n    }\r\n    .update_container {\r\n        width: 80%;\r\n        max-width: 500px;\r\n        background-color: #fff;\r\n        padding: 20px;\r\n        box-sizing: border-box;\r\n        position: absolute;\r\n        left: 50%;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%);\r\n        border-radius: 8px;\r\n    }\r\n    .update_container .title {\r\n        font-size: 16px;\r\n        border-bottom: 1px solid #eee;\r\n        line-height: 40px;\r\n        font-weight: bold;\r\n        margin-bottom: 20px;\r\n    }\r\n    .update_container .route {\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: nowrap;\r\n        flex-flow: row;\r\n    }\r\n    .right_content {\r\n        flex: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n    .right_content .time {\r\n        margin: 0;\r\n        margin-top: -4px;\r\n    }\r\n    .right_content .article_link {\r\n        font-size: 14px;\r\n        margin-top: 10px;\r\n    }\r\n    .right_content .article_link:last-child {\r\n        margin-bottom: 15px;\r\n    }\r\n    .route .left_line {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        margin-right: 16px;\r\n    }\r\n    .route .left_line::before {\r\n        content: ' ';\r\n        display: inline-block;\r\n        width: 12px;\r\n        height: 12px;\r\n        border-radius: 50%;\r\n        border: 2px solid #42b983;\r\n        background-color: #fff;\r\n        box-sizing: border-box;\r\n        flex-shrink: 0;\r\n    }\r\n    .route .left_line .line {\r\n        display: inline-block;\r\n        height: 100%;\r\n        width: 2px;\r\n        background-color: #eee;\r\n    }\r\n    .footer_bottom{\r\n        font-size: 12px;\r\n        color: #666;\r\n        text-align: center;\r\n        padding: 10px ;\r\n    }\r\n</style>\r\n"]}]}